package cli

import (
  spec "github.com/hofstadter-io/dsl-cli/spec"
)

gen Cli spec.Cli {
  templates: [
    {
      name: "once-files"
      field: "."
      files: [
        {
          in: "main.go"
          out: "main.go"
        }, {
          in: "root.go"
          out: "commands/root.go"
        }, {
          in: "rootonlylog.go"
          out: "commands/log.go"
          unless: "commmands"
        }, {
          in: "log.go"
          out: "commands/log.go"
          when: "commmands"
        },
      ]
    },
    {
      name: "commands"
      field: "commands"
      files: [
        {
          in: "cmd.go"
          out: "commands/{{name}}.go"
        }, {
          in: "log.go"
          out: "commands/{{name}}/log.go"
          when: "commmands"
        },
      ]
    },
    {
      name: "subcommands"
      field: "commands.[:].commands"
      files: [
        {
          in: "cmd.go"
          out: "commands/{{parent}}/{{name}}.go"
        }, {
          in: "log.go"
          out: "commands/{{parent}}/{{name}}/log.go"
          when: "commmands"
        },
      ]
    },
    {
      name: "subsubcommands"
      field: "commands.[:].commands.[:].commands"
      files: [
        {
          in: "cmd.go"
          out: "commands/{{parent.parent}}/{{parent}}/{{name}}.go"
        }, {
          in: "log.go"
          out: "commands/{{parent.parent}}/{{parent}}/{{name}}/log.go"
          when: "commmands"
        },
      ]
    },
    {
      name: "subsubsubcommands"
      field: "commands.[:].commands.[:].commands.[:].commands"
      files: [
        {
          in: "cmd.go"
          out: "commands/{{parent.parent.parent}}/{{parent.parent}}/{{parent}}/{{name}}.go"
        }, {
          in: "log.go"
          out: "commands/{{parent.parent.parent}}/{{parent.parent}}/{{parent}}/{{name}}/log.go"
          when: "commmands"
        },
      ]
    },
  ]
}

